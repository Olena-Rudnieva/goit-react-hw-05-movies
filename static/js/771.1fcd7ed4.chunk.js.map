{"version":3,"file":"static/js/771.1fcd7ed4.chunk.js","mappings":"6LA6EA,UAzEsB,WAAO,IAAD,MAClBA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BE,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,YAW3DC,EAAAA,EAAAA,YAAU,WACQ,KAAZf,IACJM,GAAW,GAXM,SAAC,GAAiB,IAAfN,EAAc,EAAdA,QACpB,OAAOgB,MAAM,sCAAD,OAAuChB,GAAW,CAC5DiB,QAAS,CACPC,cACE,+NAGP,CAKCC,CAAW,CAAEnB,QAAAA,IACVoB,MAAK,SAAAC,GACJ,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,qBACjC,IACAN,MAAK,SAAAO,GACJvB,EAASuB,EACV,IACAC,OAAM,SAAArB,GAAK,OAAIC,EAASD,EAAb,IACXsB,SAAQ,kBAAMvB,GAAW,EAAjB,IACZ,GAAE,CAACN,IAKJ,OACE,2BACGO,IAAS,8CACTF,IAAW,yCACZ,SAAC,KAAD,CAAMyB,GAAInB,EAAoBoB,QAA9B,qBACC5B,IACC,4BACE,gBACE6B,IACE7B,EAAM8B,YACF,CAAC,mCAAD,OAAoC9B,EAAM8B,cAZxD,8EAeQC,MAAO,IACPC,IAAI,YAEN,wBAAKhC,EAAMiC,SACX,wCAAsC,IAArBjC,EAAMkC,aAAuB,KAAKC,UAAnD,QACA,sCACA,uBAAInC,EAAMoC,YACV,oCACA,kCACGpC,EAAMqC,cADT,aACG,EAAcC,KAAI,SAAAC,GAAK,OACtB,wBAAoBA,EAAMC,MAAjBD,EAAME,GADO,UAM9B,mDACA,SAAC,KAAD,CAAMd,GAAG,OAAT,mBACA,SAAC,KAAD,CAAMA,GAAG,UAAT,sBACA,SAAC,KAAD,MAGL,C","sources":["pages/MoviesDetails.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useRef } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\n\nconst MoviesDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const fetchMovie = ({ movieId }) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${movieId}`, {\n      headers: {\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYTEyYjE5ZmQ1MThlNDEzN2Q4YTJiNzFlNWQ2YWQ3NyIsInN1YiI6IjY0ZDIyMjU3OTQ1ZDM2MDBmZmNmMTZiOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ohjb2uQT05X0_S3QE3fhncaiF7rS-iXqY88hmGKTnh0',\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (movieId === '') return;\n    setLoading(true);\n    fetchMovie({ movieId })\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(new Error('Please try again!'));\n      })\n      .then(selectedMovie => {\n        setMovie(selectedMovie);\n      })\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\n  return (\n    <div>\n      {error && <h1>Please try again!</h1>}\n      {loading && <div>Loading...</div>}\n      <Link to={backLinkLocationRef.current}>Go back</Link>\n      {movie && (\n        <div>\n          <img\n            src={\n              movie.poster_path\n                ? [`https://image.tmdb.org/t/p/w500/${movie.poster_path}`]\n                : defaultImg\n            }\n            width={250}\n            alt=\"poster\"\n          />\n          <h2>{movie.title}</h2>\n          <p>User Score:{((movie.vote_average * 1000) / 100).toFixed()}%</p>\n          <h3>Overview</h3>\n          <p>{movie.overview}</p>\n          <h4>Genres</h4>\n          <ul>\n            {movie.genres?.map(genre => (\n              <li key={genre.id}>{genre.name}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n      <p>Additional information</p>\n      <Link to=\"cast\">Cast</Link>\n      <Link to=\"reviews\">Reviews</Link>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MoviesDetails;\n"],"names":["movieId","useParams","useState","movie","setMovie","loading","setLoading","error","setError","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","fetch","headers","Authorization","fetchMovie","then","response","ok","json","Promise","reject","Error","selectedMovie","catch","finally","to","current","src","poster_path","width","alt","title","vote_average","toFixed","overview","genres","map","genre","name","id"],"sourceRoot":""}