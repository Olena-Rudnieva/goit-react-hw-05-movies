"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[332],{368:function(e,t,n){n(791);var r=n(689),i=n(87),u=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,u.jsx)("div",{children:(0,u.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)(i.rU,{state:{from:n},to:"".concat(e.id),children:e.title})},e.id)}))})})}},332:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var r=n(439),i=n(368),u=n(184),a=function(e){var t=e.queryString,n=e.onSubmit;return(0,u.jsxs)("form",{onSubmit:n,children:[(0,u.jsx)("input",{type:"text",name:"searchValue",defaultValue:null!==t&&void 0!==t?t:""}),(0,u.jsx)("button",{type:"submit",children:"Search"})]})},c=n(791),l=n(87),o=function(){var e,t=(0,c.useState)([]),n=(0,r.Z)(t,2),o=n[0],s=n[1],h=(0,c.useState)(!1),f=(0,r.Z)(h,2),d=f[0],m=f[1],j=(0,c.useState)(null),v=(0,r.Z)(j,2),y=v[0],x=v[1],Z=(0,l.lr)(),p=(0,r.Z)(Z,2),I=p[0],S=p[1],b=null!==(e=I.get("query"))&&void 0!==e?e:"";(0,c.useEffect)((function(){var e;""!==b&&(e=b,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e),{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYTEyYjE5ZmQ1MThlNDEzN2Q4YTJiNzFlNWQ2YWQ3NyIsInN1YiI6IjY0ZDIyMjU3OTQ1ZDM2MDBmZmNmMTZiOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ohjb2uQT05X0_S3QE3fhncaiF7rS-iXqY88hmGKTnh0"}})).then((function(e){return e.ok?e.json():Promise.reject(new Error("Please try again!"))})).then((function(e){s(e.results)})).catch((function(e){return x(e)})).finally((function(){return m(!1)}))}),[b]);return(0,u.jsxs)(u.Fragment,{children:[y&&(0,u.jsx)("h1",{children:"Please try again!"}),d&&(0,u.jsx)("div",{children:"Loading..."}),(0,u.jsx)(a,{queryString:b,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.searchValue.value;S({query:t}),m(!0),x(null),e.currentTarget.reset()}}),(0,u.jsx)(i.Z,{movies:o})]})}}}]);
//# sourceMappingURL=332.d81dae58.chunk.js.map